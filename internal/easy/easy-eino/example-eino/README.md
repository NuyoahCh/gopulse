# Eino æ¡†æ¶å­¦ä¹ è·¯å¾„ - ä»å…¥é—¨åˆ°ç²¾é€š

> ğŸ¯ ç³»ç»ŸåŒ–å­¦ä¹  Eino æ¡†æ¶ï¼Œä»åŸºç¡€åˆ°é«˜çº§ï¼Œé€‚åˆé¢è¯•å’Œå®é™…å¼€å‘

## ğŸ“š å­¦ä¹ è·¯å¾„

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€å…¥é—¨ (01_*.go)
**ç›®æ ‡**ï¼šç†è§£ ChatModel çš„åŸºæœ¬ä½¿ç”¨

- âœ… `01_hello.go` - ChatModel åŸºç¡€ç¤ºä¾‹
  - åˆ›å»º ChatModel
  - å‘é€æ¶ˆæ¯å’Œæ¥æ”¶å›å¤
  - ç¯å¢ƒå˜é‡é…ç½®

- âœ… `02_multi_turn.go` - å¤šè½®å¯¹è¯
  - ç»´æŠ¤å¯¹è¯å†å²
  - ä¸Šä¸‹æ–‡ç®¡ç†
  - æ¶ˆæ¯è¿½åŠ æœºåˆ¶

- âœ… `02_compare_context.go` - ä¸Šä¸‹æ–‡å¯¹æ¯”
  - ä¿å­˜ vs ä¸ä¿å­˜ AI å›å¤çš„åŒºåˆ«
  - ç†è§£å¯¹è¯è¿è´¯æ€§çš„é‡è¦æ€§

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- `schema.Message` - æ¶ˆæ¯ç»“æ„
- `SystemMessage`, `UserMessage`, `AssistantMessage`
- `Generate()` - åŒæ­¥ç”Ÿæˆ

---

### ç¬¬äºŒé˜¶æ®µï¼šæ¨¡æ¿ç³»ç»Ÿ (03_*.go)
**ç›®æ ‡**ï¼šæŒæ¡ ChatTemplate çš„ä½¿ç”¨

- âœ… `03_template_basic.go` - åŸºç¡€æ¨¡æ¿
  - å˜é‡æ’å€¼
  - æ¨¡æ¿å¤ç”¨
  - `prompt.FromMessages`

- âœ… `03_template_advanced.go` - é«˜çº§æ¨¡æ¿
  - æ„å»ºæ¨¡æ¿åº“
  - å¤šåœºæ™¯æ¨¡æ¿
  - æœ€ä½³å®è·µ

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- `ChatTemplate` - æç¤ºè¯æ¨¡æ¿
- `schema.FString` - æ ¼å¼åŒ–å­—ç¬¦ä¸²
- æ¨¡æ¿å˜é‡ `{variable}`

---

### ç¬¬ä¸‰é˜¶æ®µï¼šæµç¨‹ç¼–æ’ (04_*.go)
**ç›®æ ‡**ï¼šç†è§£ Chain çš„ç¼–æ’èƒ½åŠ›

- âœ… `04_chain_basic.go` - åŸºç¡€ Chain
  - Template â†’ Model ç¼–æ’
  - `Compile()` å’Œ `Invoke()`
  - ç±»å‹å®‰å…¨

- âœ… `04_chain_lambda.go` - Lambda èŠ‚ç‚¹
  - è‡ªå®šä¹‰å¤„ç†é€»è¾‘
  - æ•°æ®è½¬æ¢
  - ç±»å‹è½¬æ¢

- âœ… `04_chain_branch.go` - æ¡ä»¶åˆ†æ”¯
  - è·¯ç”±å‡½æ•°
  - å¤šåˆ†æ”¯å¤„ç†
  - åŠ¨æ€æµç¨‹

- âœ… `04_chain_parallel.go` - å¹¶è¡Œæ‰§è¡Œ
  - å¹¶å‘å¤„ç†
  - ç»“æœåˆå¹¶
  - æ€§èƒ½ä¼˜åŒ–

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- `compose.NewChain` - åˆ›å»º Chain
- `AppendLambda` - æ·»åŠ è‡ªå®šä¹‰èŠ‚ç‚¹
- `Branch` - æ¡ä»¶åˆ†æ”¯
- `Parallel` - å¹¶è¡Œæ‰§è¡Œ

---

### ç¬¬å››é˜¶æ®µï¼šæµå¼å¤„ç† (05_*.go)
**ç›®æ ‡**ï¼šæŒæ¡æµå¼è¾“å‡ºçš„å®ç°

- âœ… `05_stream_basic.go` - åŸºç¡€æµå¼
  - `Stream()` vs `Generate()`
  - `Recv()` æ¥æ”¶æ•°æ®å—
  - æ‰“å­—æœºæ•ˆæœ

- âœ… `05_stream_chain.go` - Chain æµå¼
  - `runnable.Stream()`
  - è‡ªåŠ¨æµå¤„ç†
  - å®æ—¶ç»Ÿè®¡

- âœ… `05_stream_advanced.go` - é«˜çº§æŠ€å·§
  - æµå¼è¿‡æ»¤
  - æµå¼è½¬æ¢
  - æµå¼èšåˆ

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- `StreamReader` - æµè¯»å–å™¨
- `io.EOF` - æµç»“æŸæ ‡å¿—
- `defer stream.Close()` - èµ„æºç®¡ç†

---

### ç¬¬äº”é˜¶æ®µï¼šå·¥å…·è°ƒç”¨ (06_*.go)
**ç›®æ ‡**ï¼šèµ‹äºˆ AI è¡ŒåŠ¨èƒ½åŠ›

- âœ… `06_tool_basic.go` - åŸºç¡€å·¥å…·
  - `ToolInfo` - å·¥å…·å…ƒä¿¡æ¯
  - `InvokableRun` - å·¥å…·æ‰§è¡Œ
  - å‚æ•°å’Œç»“æœ JSON

- âœ… `06_tool_with_model.go` - å·¥å…·ä¸æ¨¡å‹
  - Function Calling
  - ReAct Agent
  - è‡ªåŠ¨å·¥å…·é€‰æ‹©

- âœ… `06_react_agent.go` - ReAct Agent
  - æ¨ç†-è¡ŒåŠ¨å¾ªç¯
  - å¤šæ­¥æ¨ç†
  - MaxStep æ§åˆ¶

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- `tool.BaseTool` - å·¥å…·æ¥å£
- `react.NewAgent` - åˆ›å»º Agent
- `ToolsNodeConfig` - å·¥å…·é…ç½®

---

### ç¬¬å…­é˜¶æ®µï¼šé«˜çº§ç‰¹æ€§ (07_*.go, 08_*.go)
**ç›®æ ‡**ï¼šç›‘æ§ã€è°ƒè¯•å’Œå®æˆ˜

- âœ… `07_callback_simple.go` - Callback ç›‘æ§
  - `OnStart`, `OnEnd`, `OnError`
  - æ€§èƒ½ç›‘æ§
  - Token ç»Ÿè®¡

- âœ… `08_final_project.go` - ç»¼åˆå®æˆ˜
  - æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿ
  - å¤šè½®å¯¹è¯ + å·¥å…·è°ƒç”¨
  - æµå¼è¾“å‡º + æ€§èƒ½ç›‘æ§
  - å®Œæ•´åº”ç”¨æ¶æ„

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- `callbacks.HandlerBuilder` - Callback åŸºç±»
- `compose.WithCallbacks` - æ³¨å…¥ Callback
- å®Œæ•´åº”ç”¨æ¶æ„è®¾è®¡

---

## ğŸ¯ æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“

### 1. Eino çš„æ ¸å¿ƒæŠ½è±¡

```
Component (ç»„ä»¶)
â”œâ”€â”€ ChatModel (å¯¹è¯æ¨¡å‹)
â”œâ”€â”€ ChatTemplate (æç¤ºè¯æ¨¡æ¿)
â”œâ”€â”€ Tool (å·¥å…·)
â””â”€â”€ Chain (ç¼–æ’)
    â”œâ”€â”€ Lambda (è‡ªå®šä¹‰èŠ‚ç‚¹)
    â”œâ”€â”€ Branch (åˆ†æ”¯)
    â””â”€â”€ Parallel (å¹¶è¡Œ)
```

### 2. æ•°æ®æµæ¨¡å¼

```
è¾“å…¥ â†’ [èŠ‚ç‚¹1] â†’ [èŠ‚ç‚¹2] â†’ [èŠ‚ç‚¹3] â†’ è¾“å‡º
         â†“          â†“          â†“
      ç±»å‹æ£€æŸ¥   è‡ªåŠ¨ä¼ é€’   é”™è¯¯å¤„ç†
```

### 3. æ‰§è¡Œæ¨¡å¼

| æ¨¡å¼ | æ–¹æ³• | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| **åŒæ­¥** | `Invoke()` | ç­‰å¾…å®Œæ•´ç»“æœ | çŸ­æ–‡æœ¬ã€æ‰¹å¤„ç† |
| **æµå¼** | `Stream()` | é€å—è¿”å› | é•¿æ–‡æœ¬ã€å®æ—¶äº¤äº’ |

### 4. Agent å·¥ä½œæµç¨‹

```
ç”¨æˆ·é—®é¢˜
   â†“
Agent æ¨ç† (éœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Ÿ)
   â†“
Agent è¡ŒåŠ¨ (è°ƒç”¨å·¥å…·)
   â†“
Agent è§‚å¯Ÿ (åˆ†æç»“æœ)
   â†“
Agent å›ç­”
```

---

## ğŸš€ è¿è¡Œæ‰€æœ‰ç¤ºä¾‹

```bash
cd example-eino

# ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€
go run 01_hello.go
go run 02_multi_turn.go
go run 02_compare_context.go

# ç¬¬äºŒé˜¶æ®µï¼šæ¨¡æ¿
go run 03_template_basic.go
go run 03_template_advanced.go

# ç¬¬ä¸‰é˜¶æ®µï¼šç¼–æ’
go run 04_chain_basic.go
go run 04_chain_lambda.go
go run 04_chain_branch.go
go run 04_chain_parallel.go

# ç¬¬å››é˜¶æ®µï¼šæµå¼
go run 05_stream_basic.go
go run 05_stream_chain.go
go run 05_stream_advanced.go

# ç¬¬äº”é˜¶æ®µï¼šå·¥å…·
go run 06_tool_basic.go
go run 06_tool_with_model.go
go run 06_react_agent.go

# ç¬¬å…­é˜¶æ®µï¼šé«˜çº§
go run 07_callback_simple.go
go run 08_final_project.go  # ç»¼åˆå®æˆ˜ï¼
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†
```go
if err != nil {
    log.Fatalf("æ“ä½œå¤±è´¥: %v", err)
}
```

### 2. èµ„æºç®¡ç†
```go
stream, _ := chatModel.Stream(ctx, messages)
defer stream.Close()  // é‡è¦ï¼
```

### 3. ç±»å‹å®‰å…¨
```go
chain := compose.NewChain[InputType, OutputType]()
```

### 4. ä¸Šä¸‹æ–‡ç®¡ç†
```go
// ä¿å­˜ AI å›å¤ä»¥ç»´æŠ¤å¯¹è¯å†å²
messages = append(messages, response)
```

### 5. å·¥å…·è®¾è®¡
```go
// æ— å‚æ•°å·¥å…·
ParamsOneOf: nil

// æœ‰å‚æ•°å·¥å…·
ParamsOneOf: schema.NewParamsOneOfByParams(map[string]*schema.ParameterInfo{...})
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **ä½¿ç”¨æµå¼å¤„ç†**ï¼šé•¿æ–‡æœ¬ç”Ÿæˆæ—¶ä¼˜å…ˆä½¿ç”¨ `Stream()`
2. **å¹¶è¡Œæ‰§è¡Œ**ï¼šç‹¬ç«‹ä»»åŠ¡ä½¿ç”¨ `Parallel` æå‡æ€§èƒ½
3. **Callback ç›‘æ§**ï¼šå®æ—¶ç›‘æ§ Token ä½¿ç”¨å’Œå“åº”æ—¶é—´
4. **åˆç†è®¾ç½® MaxStep**ï¼šé¿å… Agent æ— é™å¾ªç¯

---

## ğŸ“ é¢è¯•å‡†å¤‡

### å¸¸è§é—®é¢˜

**Q1: Eino çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ**
- ç±»å‹å®‰å…¨çš„ç¼–æ’
- è‡ªåŠ¨æµå¤„ç†
- çµæ´»çš„ç»„ä»¶ç»„åˆ
- å¼ºå¤§çš„ Agent èƒ½åŠ›

**Q2: Chain å’Œç›´æ¥è°ƒç”¨çš„åŒºåˆ«ï¼Ÿ**
- Chainï¼šå£°æ˜å¼ã€å¯å¤ç”¨ã€ç±»å‹å®‰å…¨ã€è‡ªåŠ¨æµå¤„ç†
- ç›´æ¥è°ƒç”¨ï¼šå‘½ä»¤å¼ã€ä»£ç å†—ä½™ã€æ‰‹åŠ¨ç®¡ç†

**Q3: å¦‚ä½•å®ç°å¤šè½®å¯¹è¯ï¼Ÿ**
- ç»´æŠ¤æ¶ˆæ¯å†å²åˆ‡ç‰‡
- æ¯æ¬¡å¯¹è¯åè¿½åŠ  AI å›å¤
- ä¼ é€’å®Œæ•´å†å²ç»™æ¨¡å‹

**Q4: ReAct Agent çš„å·¥ä½œåŸç†ï¼Ÿ**
- Reasoningï¼ˆæ¨ç†ï¼‰ï¼šåˆ†æéœ€è¦ä»€ä¹ˆä¿¡æ¯
- Actingï¼ˆè¡ŒåŠ¨ï¼‰ï¼šè°ƒç”¨å·¥å…·è·å–ä¿¡æ¯
- å¾ªç¯ç›´åˆ°å¾—å‡ºæœ€ç»ˆç­”æ¡ˆ

**Q5: å¦‚ä½•ç›‘æ§ AI åº”ç”¨æ€§èƒ½ï¼Ÿ**
- ä½¿ç”¨ Callback æœºåˆ¶
- ç»Ÿè®¡ Token ä½¿ç”¨é‡
- è®°å½•å“åº”æ—¶é—´
- åˆ†æå·¥å…·è°ƒç”¨é¢‘ç‡

---

## ğŸ”— ç›¸å…³èµ„æº

- **å®˜æ–¹æ–‡æ¡£**: https://www.cloudwego.io/zh/docs/eino/
- **GitHub**: https://github.com/cloudwego/eino
- **ç¤ºä¾‹ä»£ç **: æœ¬ç›®å½•ä¸‹æ‰€æœ‰ `.go` æ–‡ä»¶

---

## âœ¨ ä¸‹ä¸€æ­¥å­¦ä¹ 

1. **æ·±å…¥ RAG**ï¼šæ£€ç´¢å¢å¼ºç”Ÿæˆ
2. **å¤š Agent åä½œ**ï¼šæ„å»º Agent å›¢é˜Ÿ
3. **è‡ªå®šä¹‰ç»„ä»¶**ï¼šå®ç°è‡ªå·±çš„ Component
4. **ç”Ÿäº§éƒ¨ç½²**ï¼šç›‘æ§ã€æ—¥å¿—ã€å®¹é”™

---

**æ­å–œä½ å®Œæˆäº† Eino æ¡†æ¶çš„ç³»ç»ŸåŒ–å­¦ä¹ ï¼ğŸ‰**

ç°åœ¨ä½ å·²ç»å…·å¤‡ï¼š
- âœ… ç†è§£ Eino çš„æ ¸å¿ƒæ¦‚å¿µ
- âœ… æŒæ¡æ‰€æœ‰å…³é”® API
- âœ… èƒ½å¤Ÿæ„å»ºå®Œæ•´ AI åº”ç”¨
- âœ… å‡†å¤‡å¥½é¢è¯•å’Œå®é™…å¼€å‘

ç»§ç»­æ¢ç´¢ï¼Œæ„å»ºæ›´å¼ºå¤§çš„ AI åº”ç”¨ï¼ğŸ’ª

# ğŸ”§ é—®é¢˜ä¿®å¤æ€»ç»“

## æŠ¥å‘Šçš„é—®é¢˜

1. âŒ ç´¢å¼•å¤±è´¥ï¼šRequest failed with status code 404
2. âŒ Agent æ¨¡å—ï¼šRequest failed with status code 404
3. âŒ å¯¹è¯æ¨¡å—ï¼šé»‘æ¡†ï¼Œæ— ä»»ä½•æ˜¾ç¤º
4. âŒ å‘½ä»¤è¡Œæ— ä»»ä½•æ˜¾ç¤º

---

## âœ… å·²åº”ç”¨çš„ä¿®å¤

### 1. Vite ä»£ç†é…ç½®ç¼ºå¤± â­ æ ¸å¿ƒé—®é¢˜

**é—®é¢˜**: å‰ç«¯è¯·æ±‚ `/api/*` æ—¶è¿”å› 404

**åŸå› **: `vite.config.ts` ç¼ºå°‘ä»£ç†é…ç½®ï¼Œå‰ç«¯ç›´æ¥è¯·æ±‚ `/api/v1/*` è·¯å¾„ï¼Œä½† Vite å¼€å‘æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨è¿™äº›è·¯å¾„

**ä¿®å¤**: æ·»åŠ ä»£ç†é…ç½®

```typescript
// web/vite.config.ts
export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173,
    host: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        secure: false,
      }
    }
  }
});
```

**å½±å“**: 
- âœ… æ‰€æœ‰ API è¯·æ±‚ç°åœ¨ä¼šæ­£ç¡®è½¬å‘åˆ°åç«¯
- âœ… è§£å†³äº† 404 é”™è¯¯
- âœ… å¯¹è¯ã€Agentã€RAGã€Graph éƒ½èƒ½æ­£å¸¸å·¥ä½œ

---

### 2. Agent API å­—æ®µä¸åŒ¹é…

**é—®é¢˜**: Agent å“åº”æ•°æ®æ— æ³•æ­£ç¡®æ˜¾ç¤º

**åŸå› **: 
- åç«¯è¿”å›: `{ "answer": "..." }`
- å‰ç«¯æœŸæœ›: `{ "result": "..." }`

**ä¿®å¤**: ç»Ÿä¸€ä½¿ç”¨ `answer` å­—æ®µ

```typescript
// web/src/api/agent.ts
export interface AgentResponse {
  answer: string;  // æ”¹ä¸º answer
  steps?: string[];
  execution_time?: number;
}
```

```tsx
// web/src/pages/AgentPage.tsx
<div className="whitespace-pre-wrap rounded-lg bg-slate-50 p-4 text-sm">
  {result.answer}  {/* æ”¹ä¸º answer */}
</div>
```

---

### 3. å¯åŠ¨è„šæœ¬æ”¹è¿›

**é—®é¢˜**: è„šæœ¬åªæ£€æŸ¥ `node_modules` ç›®å½•å­˜åœ¨ï¼Œä¸æ£€æŸ¥ä¾èµ–æ˜¯å¦æœ€æ–°

**ä¿®å¤**: æ”¹è¿›ä¾èµ–æ£€æŸ¥é€»è¾‘

```bash
# scripts/start-dev.sh
# æ£€æŸ¥å¹¶å®‰è£…å‰ç«¯ä¾èµ–
echo "ğŸ“¦ æ£€æŸ¥å‰ç«¯ä¾èµ–..."
cd web
if [ ! -d "node_modules" ] || [ ! -f "node_modules/.package-lock.json" ]; then
    echo "   å®‰è£…å‰ç«¯ä¾èµ–..."
    npm install
else
    # æ£€æŸ¥ package.json æ˜¯å¦æœ‰æ›´æ–°
    if [ "package.json" -nt "node_modules/.package-lock.json" ]; then
        echo "   æ£€æµ‹åˆ°ä¾èµ–æ›´æ–°ï¼Œé‡æ–°å®‰è£…..."
        npm install
    fi
fi
```

---

## ğŸš€ å¦‚ä½•åº”ç”¨ä¿®å¤

### æ–¹å¼ 1: é‡å¯å‰ç«¯æœåŠ¡ï¼ˆæ¨èï¼‰

```bash
# 1. åœæ­¢å½“å‰æœåŠ¡ï¼ˆåœ¨è¿è¡Œ start-dev.sh çš„ç»ˆç«¯æŒ‰ Ctrl+Cï¼‰

# 2. é‡æ–°å¯åŠ¨
./scripts/start-dev.sh
```

### æ–¹å¼ 2: ä»…é‡å¯å‰ç«¯

```bash
# 1. åœæ­¢å‰ç«¯ï¼ˆCtrl+Cï¼‰

# 2. é‡æ–°å¯åŠ¨å‰ç«¯
cd web
npm run dev
```

---

## ğŸ§ª éªŒè¯ä¿®å¤

### 1. æµ‹è¯•åç«¯ API

```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
./scripts/test-api.sh
```

æˆ–æ‰‹åŠ¨æµ‹è¯•ï¼š

```bash
# æµ‹è¯•æ¨¡å‹åˆ—è¡¨
curl http://localhost:8080/api/v1/llm/models

# æµ‹è¯•å¯¹è¯
curl -X POST http://localhost:8080/api/v1/llm/chat \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "ark",
    "model": "doubao-seed-1-6-lite-251015",
    "messages": [{"role": "user", "content": "ä½ å¥½"}]
  }'
```

### 2. æµ‹è¯•å‰ç«¯é¡µé¢

è®¿é—® `http://localhost:5173`

#### âœ… é¦–é¡µ
- åº”è¯¥çœ‹åˆ°åŠŸèƒ½å¡ç‰‡
- ç‚¹å‡»å¡ç‰‡å¯ä»¥è·³è½¬

#### âœ… AI å¯¹è¯ (`/chat`)
- ä¸å†æ˜¯é»‘æ¡†
- å¯ä»¥çœ‹åˆ°èŠå¤©ç•Œé¢
- å¯ä»¥é€‰æ‹©æ¨¡å‹
- å¯ä»¥å‘é€æ¶ˆæ¯å¹¶æ”¶åˆ°å›å¤

#### âœ… AI Agent (`/agent`)
- å¯ä»¥è¾“å…¥ä»»åŠ¡
- ç‚¹å‡»"è¿è¡Œ Agent"åèƒ½çœ‹åˆ°ç»“æœ
- ä¸å†è¿”å› 404

#### âœ… RAG æ£€ç´¢ (`/rag`)
- å¯ä»¥ç´¢å¼•æ–‡æ¡£
- å¯ä»¥æŸ¥è¯¢é—®ç­”
- ä¸å†è¿”å› 404

#### âœ… Graph ç¼–æ’ (`/graph`)
- å¯ä»¥è¾“å…¥é—®é¢˜
- å¯ä»¥çœ‹åˆ°å¤šæ­¥éª¤æ‰§è¡Œ
- å¯ä»¥çœ‹åˆ°æœ€ç»ˆç»“æœ

---

## ğŸ“Š ä¿®å¤å‰åå¯¹æ¯”

### ä¿®å¤å‰
| åŠŸèƒ½ | çŠ¶æ€ | é”™è¯¯ |
|------|------|------|
| AI å¯¹è¯ | âŒ | é»‘æ¡†ï¼Œæ— æ˜¾ç¤º |
| AI Agent | âŒ | 404 é”™è¯¯ |
| RAG æ£€ç´¢ | âŒ | 404 é”™è¯¯ |
| Graph ç¼–æ’ | âŒ | 404 é”™è¯¯ |

### ä¿®å¤å
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| AI å¯¹è¯ | âœ… | æ­£å¸¸æ˜¾ç¤ºå’Œä½¿ç”¨ |
| AI Agent | âœ… | æ­£å¸¸æ‰§è¡Œ |
| RAG æ£€ç´¢ | âœ… | æ­£å¸¸ç´¢å¼•å’ŒæŸ¥è¯¢ |
| Graph ç¼–æ’ | âœ… | æ­£å¸¸æ‰§è¡Œ |

---

## ğŸ” è°ƒè¯•æŠ€å·§

### 1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·

æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼š

- **Console æ ‡ç­¾é¡µ**: æŸ¥çœ‹ JavaScript é”™è¯¯
- **Network æ ‡ç­¾é¡µ**: æŸ¥çœ‹ API è¯·æ±‚å’Œå“åº”
  - æ£€æŸ¥è¯·æ±‚ URL
  - æ£€æŸ¥å“åº”çŠ¶æ€ç 
  - æŸ¥çœ‹å“åº”æ•°æ®

### 2. å¿«é€Ÿæµ‹è¯• API

åœ¨æµè§ˆå™¨ Console ä¸­æ‰§è¡Œï¼š

```javascript
// æµ‹è¯• API è¿æ¥
fetch('/api/v1/llm/models')
  .then(r => r.json())
  .then(console.log)
  .catch(console.error);
```

### 3. æŸ¥çœ‹åç«¯æ—¥å¿—

åç«¯æ—¥å¿—ä¼šæ˜¾ç¤ºåœ¨å¯åŠ¨åç«¯çš„ç»ˆç«¯ï¼š

```
[GIN] 2025/11/17 - 08:51:38 | 200 | 412.292Âµs | ::1 | GET "/api/v1/llm/models"
```

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- `DEBUG_GUIDE.md` - è¯¦ç»†è°ƒè¯•æŒ‡å—
- `web/SETUP.md` - å‰ç«¯è®¾ç½®æŒ‡å—
- `web/QUICKFIX.md` - å¿«é€Ÿä¿®å¤æŒ‡å—
- `scripts/test-api.sh` - API æµ‹è¯•è„šæœ¬

---

## âœ… æ€»ç»“

### æ ¸å¿ƒé—®é¢˜
**Vite ä»£ç†é…ç½®ç¼ºå¤±** - è¿™æ˜¯å¯¼è‡´æ‰€æœ‰ 404 é”™è¯¯çš„æ ¹æœ¬åŸå› 

### ä¿®å¤å†…å®¹
1. âœ… æ·»åŠ  Vite ä»£ç†é…ç½®
2. âœ… ä¿®æ­£ Agent API å­—æ®µå
3. âœ… æ”¹è¿›å¯åŠ¨è„šæœ¬
4. âœ… åˆ›å»ºè°ƒè¯•å’Œæµ‹è¯•å·¥å…·

### ç°åœ¨çš„çŠ¶æ€
ğŸ‰ **æ‰€æœ‰åŠŸèƒ½éƒ½åº”è¯¥æ­£å¸¸å·¥ä½œäº†ï¼**

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **é‡å¯æœåŠ¡**
   ```bash
   ./scripts/start-dev.sh
   ```

2. **è®¿é—®å‰ç«¯**
   ```
   http://localhost:5173
   ```

3. **æµ‹è¯•æ‰€æœ‰åŠŸèƒ½**
   - AI å¯¹è¯
   - AI Agent
   - RAG æ£€ç´¢
   - Graph ç¼–æ’

4. **å¦‚æœè¿˜æœ‰é—®é¢˜**
   - æŸ¥çœ‹ `DEBUG_GUIDE.md`
   - è¿è¡Œ `./scripts/test-api.sh`
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

äº«å—ä½¿ç”¨ EinoFlowï¼ğŸ‰

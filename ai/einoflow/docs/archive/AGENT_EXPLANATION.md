# Agent åŠŸèƒ½è¯´æ˜

## ğŸ¤” å½“å‰ Agent æ˜¯ä»€ä¹ˆç‰ˆæœ¬ï¼Ÿ

### ç®€çŸ­å›ç­”
**å½“å‰æ˜¯ç®€åŒ–ç‰ˆ Agent**ï¼Œä½†å®ƒ**å®Œå…¨å¯ç”¨**ï¼Œèƒ½å¤Ÿï¼š
- âœ… æ¥æ”¶ç”¨æˆ·ä»»åŠ¡
- âœ… è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›ç­”
- âœ… è¿”å›å®Œæ•´çš„å“åº”

### è¯¦ç»†è¯´æ˜

#### å½“å‰å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰
```go
func (a *ReActAgent) Run(ctx context.Context, task string) (string, error) {
    // æ„å»ºç³»ç»Ÿæç¤ºè¯
    systemPrompt := `ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·å®Œæˆå„ç§ä»»åŠ¡ã€‚
è¯·ä»”ç»†åˆ†æç”¨æˆ·çš„é—®é¢˜ï¼Œç»™å‡ºè¯¦ç»†å’Œæœ‰å¸®åŠ©çš„å›ç­”ã€‚`
    
    messages := []*schema.Message{
        schema.SystemMessage(systemPrompt),
        schema.UserMessage(task),
    }
    
    // è°ƒç”¨æ¨¡å‹
    resp, err := a.chatModel.Generate(ctx, messages)
    if err != nil {
        return "", err
    }
    
    return resp.Content, nil
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… å•æ¬¡æ¨¡å‹è°ƒç”¨
- âœ… ç›´æ¥è¿”å›æ¨¡å‹å“åº”
- âœ… é€‚åˆå¤§å¤šæ•°ä»»åŠ¡
- âŒ ä¸ä¼šçœŸæ­£æ‰§è¡Œå·¥å…·ï¼ˆå¦‚æŸ¥è¯¢å¤©æ°”ã€è¯»å†™æ–‡ä»¶ï¼‰

---

## ğŸ“Š ç®€åŒ–ç‰ˆ vs å®Œæ•´ç‰ˆå¯¹æ¯”

### ç®€åŒ–ç‰ˆï¼ˆå½“å‰å®ç°ï¼‰

**å·¥ä½œæµç¨‹**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ æ¨¡å‹æ€è€ƒ â†’ è¿”å›ç­”æ¡ˆ
```

**ç¤ºä¾‹**ï¼š
```
è¾“å…¥: ç»™æˆ‘å†™ä¸€ç¯‡ Go è¯­è¨€çš„æ–‡ç« 
è¾“å‡º: ï¼ˆå®Œæ•´çš„ Go è¯­è¨€æ–‡ç« ï¼‰âœ…

è¾“å…¥: æŸ¥è¯¢åŒ—äº¬å¤©æ°”
è¾“å‡º: æˆ‘æ— æ³•å®æ—¶æŸ¥è¯¢å¤©æ°”ï¼Œå»ºè®®ä½ ä½¿ç”¨å¤©æ°” APP âŒ
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç®€å•ç›´æ¥
- âœ… å“åº”å¿«ï¼ˆ5-10ç§’ï¼‰
- âœ… é€‚åˆçŸ¥è¯†é—®ç­”ã€å†™ä½œã€åˆ†æç­‰ä»»åŠ¡

**ç¼ºç‚¹**ï¼š
- âŒ ä¸èƒ½æ‰§è¡ŒçœŸå®çš„å·¥å…·è°ƒç”¨
- âŒ ä¸èƒ½è®¿é—®å®æ—¶æ•°æ®
- âŒ ä¸èƒ½æ“ä½œæ–‡ä»¶ç³»ç»Ÿ

---

### å®Œæ•´ç‰ˆï¼ˆEino react.NewAgentï¼‰

**å·¥ä½œæµç¨‹**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ æ¨¡å‹å†³å®šæ˜¯å¦éœ€è¦å·¥å…· 
         â†“
    éœ€è¦å·¥å…· â†’ æ‰§è¡Œå·¥å…· â†’ è·å–ç»“æœ â†’ æ¨¡å‹ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ
         â†“
   ä¸éœ€è¦å·¥å…· â†’ ç›´æ¥è¿”å›ç­”æ¡ˆ
```

**ç¤ºä¾‹**ï¼š
```
è¾“å…¥: æŸ¥è¯¢åŒ—äº¬å¤©æ°”
æµç¨‹:
  1. æ¨¡å‹è¯†åˆ«éœ€è¦è°ƒç”¨å¤©æ°”å·¥å…·
  2. æ‰§è¡Œ WeatherTool("åŒ—äº¬")
  3. è·å–ç»“æœ: {"temp": "22Â°C", "condition": "æ™´"}
  4. æ¨¡å‹åŸºäºç»“æœç”Ÿæˆç­”æ¡ˆ
è¾“å‡º: åŒ—äº¬ä»Šå¤©å¤©æ°”æ™´æœ—ï¼Œæ¸©åº¦22Â°C âœ…

è¾“å…¥: ç»™æˆ‘å†™ä¸€ç¯‡æ–‡ç« 
æµç¨‹:
  1. æ¨¡å‹åˆ¤æ–­ä¸éœ€è¦å·¥å…·
  2. ç›´æ¥ç”Ÿæˆæ–‡ç« 
è¾“å‡º: ï¼ˆå®Œæ•´æ–‡ç« ï¼‰âœ…
```

**ä¼˜ç‚¹**ï¼š
- âœ… çœŸæ­£çš„å·¥å…·æ‰§è¡Œ
- âœ… å¯è®¿é—®å®æ—¶æ•°æ®
- âœ… å¯æ“ä½œæ–‡ä»¶ã€æ•°æ®åº“ç­‰
- âœ… å¤šè½®æ¨ç†èƒ½åŠ›

**ç¼ºç‚¹**ï¼š
- âš ï¸ å®ç°å¤æ‚
- âš ï¸ å“åº”æ—¶é—´è¾ƒé•¿ï¼ˆå¤šæ¬¡æ¨¡å‹è°ƒç”¨ï¼‰
- âš ï¸ éœ€è¦æ›´å¤šé…ç½®

---

## ğŸ¯ ä½ åº”è¯¥ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬ï¼Ÿ

### ä½¿ç”¨ç®€åŒ–ç‰ˆï¼ˆå½“å‰ï¼‰çš„åœºæ™¯
- âœ… çŸ¥è¯†é—®ç­”ï¼š"Go å’Œ Java æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"
- âœ… å†…å®¹åˆ›ä½œï¼š"å†™ä¸€ç¯‡å…³äº AI çš„æ–‡ç« "
- âœ… ä»£ç ç”Ÿæˆï¼š"ç”¨ Go å†™ä¸€ä¸ª HTTP æœåŠ¡å™¨"
- âœ… åˆ†ææ€»ç»“ï¼š"åˆ†æè¿™æ®µä»£ç çš„é—®é¢˜"
- âœ… ç¿»è¯‘æ”¹å†™ï¼š"æŠŠè¿™æ®µè¯ç¿»è¯‘æˆè‹±æ–‡"

### éœ€è¦å®Œæ•´ç‰ˆçš„åœºæ™¯
- âŒ å®æ—¶æ•°æ®ï¼š"æŸ¥è¯¢ä»Šå¤©åŒ—äº¬çš„å¤©æ°”"
- âŒ æ–‡ä»¶æ“ä½œï¼š"è¯»å– data.txt å¹¶åˆ†æ"
- âŒ æ•°æ®åº“æŸ¥è¯¢ï¼š"æŸ¥è¯¢ç”¨æˆ·è¡¨ä¸­çš„æ•°æ®"
- âŒ ç½‘ç»œè¯·æ±‚ï¼š"æœç´¢æœ€æ–°çš„ Go æ–°é—»"
- âŒ è®¡ç®—ä»»åŠ¡ï¼š"è®¡ç®— 123 * 456"

---

## ğŸ”§ å¦‚ä½•å‡çº§åˆ°å®Œæ•´ç‰ˆï¼Ÿ

### æ–¹æ³• 1: ä½¿ç”¨ Eino çš„ react.NewAgentï¼ˆæ¨èï¼‰

```go
package main

import (
    "context"
    "github.com/cloudwego/eino/flow/agent/react"
    "github.com/cloudwego/eino/compose"
    "github.com/cloudwego/eino/components/tool"
)

func main() {
    ctx := context.Background()
    
    // 1. åˆ›å»º ToolCallingChatModelï¼ˆæ”¯æŒå·¥å…·è°ƒç”¨ï¼‰
    chatModel, _ := ark.NewChatModel(ctx, &ark.ChatModelConfig{
        APIKey: "your-api-key",
        Model:  "doubao-seed-1-6-lite-251015",
    })
    
    // 2. å‡†å¤‡å·¥å…·åˆ—è¡¨
    tools := []tool.InvokableTool{
        NewWeatherTool(),
        NewCalculatorTool(),
        NewSearchTool(),
    }
    
    // 3. åˆ›å»º ReAct Agent
    agent, _ := react.NewAgent(ctx, &react.AgentConfig{
        ToolCallingModel: chatModel,
        ToolsConfig: compose.ToolsNodeConfig{
            Tools: tools,
        },
    })
    
    // 4. æ‰§è¡Œä»»åŠ¡
    result, _ := agent.Invoke(ctx, &react.AgentInput{
        Query: "æŸ¥è¯¢åŒ—äº¬å¤©æ°”",
    })
    
    fmt.Println(result.Answer)
}
```

### æ–¹æ³• 2: æ‰©å±•å½“å‰å®ç°

åœ¨ `internal/agent/react.go` ä¸­æ·»åŠ å·¥å…·è°ƒç”¨é€»è¾‘ï¼š

```go
func (a *ReActAgent) Run(ctx context.Context, task string) (string, error) {
    maxSteps := 5
    
    for step := 0; step < maxSteps; step++ {
        // 1. è°ƒç”¨æ¨¡å‹
        resp, err := a.chatModel.Generate(ctx, messages)
        if err != nil {
            return "", err
        }
        
        // 2. æ£€æŸ¥æ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·
        if hasToolCall(resp) {
            // 3. è§£æå·¥å…·è°ƒç”¨
            toolCall := parseToolCall(resp)
            
            // 4. æ‰§è¡Œå·¥å…·
            toolResult := executeTool(toolCall)
            
            // 5. å°†ç»“æœæ·»åŠ åˆ°æ¶ˆæ¯å†å²
            messages = append(messages, 
                schema.AssistantMessage(resp.Content),
                schema.ToolMessage(toolResult),
            )
            continue
        }
        
        // 6. æ²¡æœ‰å·¥å…·è°ƒç”¨ï¼Œè¿”å›ç»“æœ
        return resp.Content, nil
    }
    
    return "", errors.New("max steps reached")
}
```

---

## ğŸ’¡ å®é™…ä½¿ç”¨å»ºè®®

### å½“å‰ç‰ˆæœ¬å®Œå…¨å¤Ÿç”¨çš„æƒ…å†µï¼ˆ90%ï¼‰

å¤§å¤šæ•°ä»»åŠ¡ä¸éœ€è¦çœŸå®çš„å·¥å…·è°ƒç”¨ï¼š

```bash
make demo

è¯·é€‰æ‹©åŠŸèƒ½ (1-5): 3

# âœ… è¿™äº›ä»»åŠ¡éƒ½èƒ½å¾ˆå¥½åœ°å®Œæˆï¼š
è¯·è¾“å…¥ä»»åŠ¡: ç»™æˆ‘å†™ä¸€ç¯‡ Go è¯­è¨€çš„æ–‡ç« 
è¯·è¾“å…¥ä»»åŠ¡: è§£é‡Šä»€ä¹ˆæ˜¯ goroutine
è¯·è¾“å…¥ä»»åŠ¡: ç”¨ Go å†™ä¸€ä¸ªç®€å•çš„ Web æœåŠ¡å™¨
è¯·è¾“å…¥ä»»åŠ¡: åˆ†æ Go å’Œ Rust çš„ä¼˜ç¼ºç‚¹
è¯·è¾“å…¥ä»»åŠ¡: å¸®æˆ‘è®¾è®¡ä¸€ä¸ªå¾®æœåŠ¡æ¶æ„
```

### éœ€è¦å‡çº§çš„æƒ…å†µï¼ˆ10%ï¼‰

åªæœ‰éœ€è¦è®¿é—®å¤–éƒ¨æ•°æ®æˆ–æ‰§è¡Œæ“ä½œæ—¶æ‰éœ€è¦ï¼š

```bash
# âŒ è¿™äº›ä»»åŠ¡éœ€è¦å®Œæ•´ç‰ˆï¼š
è¯·è¾“å…¥ä»»åŠ¡: æŸ¥è¯¢ä»Šå¤©åŒ—äº¬çš„å¤©æ°”ï¼ˆéœ€è¦å¤©æ°” APIï¼‰
è¯·è¾“å…¥ä»»åŠ¡: è¯»å– data.csv å¹¶åˆ†æï¼ˆéœ€è¦æ–‡ä»¶æ“ä½œï¼‰
è¯·è¾“å…¥ä»»åŠ¡: æœç´¢æœ€æ–°çš„ AI æ–°é—»ï¼ˆéœ€è¦ç½‘ç»œæœç´¢ï¼‰
```

---

## ğŸ‰ æ€»ç»“

### å½“å‰çŠ¶æ€
- âœ… Agent åŠŸèƒ½**å®Œå…¨å¯ç”¨**
- âœ… é€‚åˆ**å¤§å¤šæ•°ä»»åŠ¡**ï¼ˆçŸ¥è¯†é—®ç­”ã€å†™ä½œã€åˆ†æï¼‰
- âœ… å“åº”å¿«é€Ÿã€ç¨³å®š
- âš ï¸ ä¸æ”¯æŒçœŸå®å·¥å…·æ‰§è¡Œï¼ˆå¤©æ°”æŸ¥è¯¢ã€æ–‡ä»¶æ“ä½œç­‰ï¼‰

### ä½¿ç”¨å»ºè®®
1. **å…ˆç”¨å½“å‰ç‰ˆæœ¬** - æ»¡è¶³ 90% çš„éœ€æ±‚
2. **é‡åˆ°éœ€è¦å·¥å…·çš„ä»»åŠ¡** - å†è€ƒè™‘å‡çº§
3. **å‚è€ƒæ–‡æ¡£** - `docs/DEMO_GUIDE.md` æœ‰å®Œæ•´å®ç°ç¤ºä¾‹

### æµ‹è¯•æ–¹æ³•
```bash
make demo

# é€‰æ‹© 3 (Agent)
# è¾“å…¥ä»»åŠ¡ï¼Œç­‰å¾… 5-10 ç§’
# æŸ¥çœ‹å®Œæ•´çš„å›ç­”

# æ³¨æ„ï¼šä¸è¦æŒ‰ Ctrl+C ä¸­æ–­ï¼
# æ¨¡å‹éœ€è¦æ—¶é—´æ€è€ƒå’Œç”Ÿæˆå†…å®¹
```

---

## â±ï¸ å“åº”æ—¶é—´è¯´æ˜

| ä»»åŠ¡ç±»å‹ | é¢„è®¡æ—¶é—´ | è¯´æ˜ |
|---------|---------|------|
| ç®€å•é—®ç­” | 3-5 ç§’ | "ä»€ä¹ˆæ˜¯ Goï¼Ÿ" |
| ä»£ç ç”Ÿæˆ | 5-8 ç§’ | "å†™ä¸€ä¸ª HTTP æœåŠ¡å™¨" |
| æ–‡ç« å†™ä½œ | 8-15 ç§’ | "å†™ä¸€ç¯‡ Go è¯­è¨€çš„æ–‡ç« " |
| å¤æ‚åˆ†æ | 10-20 ç§’ | "åˆ†æå¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹" |

**è¯·è€å¿ƒç­‰å¾…ï¼Œä¸è¦ä¸­æ–­ï¼** â³

å½“å‰ Agent å®Œå…¨å¯ç”¨ï¼Œåªæ˜¯ä¸æ”¯æŒçœŸå®çš„å·¥å…·æ‰§è¡Œã€‚å¯¹äºå¤§å¤šæ•°ä»»åŠ¡æ¥è¯´ï¼Œè¿™å·²ç»è¶³å¤Ÿäº†ï¼ğŸš€
